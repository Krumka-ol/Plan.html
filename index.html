<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>План подготовки с заметками (React)</title>
    <!-- Tailwind CSS CDN для стилей -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts для красивого шрифта -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- React и ReactDOM CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- Babel для преобразования JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
            color: #1f2937;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        .container {
            width: 95%;
            max-width: 1200px;
            padding: 20px;
        }
    </style>
</head>
<body class="bg-gray-100 p-8">
    <!-- Место, куда будет монтироваться наше React-приложение -->
    <div id="root"></div>

    <script type="text/babel">
        // React-компонент, который содержит все приложение
        const App = () => {
            // Данные для советов, планов и ссылок на пособия
            // Для тем "Планиметрия", "Стереометрия", "Производная и первообразная" и "Графики функций" теперь используется массив ссылок
            const studyData = {
                'Базовый материал': {
                    tips: 'Лайфхак: Начинайте с самого простого. Не пытайтесь сразу объять необъятное. Цитата: "Самый большой секрет успеха — это последовательность." (Уильям Кэри)',
                    plan: [
                        'Повторение основных понятий: дроби, проценты, пропорции.',
                        'Работа с алгебраическими выражениями и формулами сокращенного умножения.',
                        'Изучение простых геометрических фигур и их свойств.',
                        'Решение задач на движение и работу.'
                    ],
                    link: 'https://disk.yandex.ru/i/cDq0gmqGdVJevA'
                },
                'Планиметрия': {
                    tips: 'Лайфхак: Визуализируйте! Рисуйте чертежи разных масштабов, чтобы увидеть неочевидные связи. Цитата: "Геометрия — это искусство хорошего рассуждения на плохих чертежах." (Георг Пойа)',
                    plan: [
                        'Изучение основных теорем: теорема Пифагора, теорема синусов и косинусов.',
                        'Работа с подобием и равенством треугольников.',
                        'Решение задач на площади и периметры многоугольников.',
                        'Изучение свойств окружности и ее элементов.'
                    ],
                    link: ['https://disk.yandex.ru/i/cDq0gmqGdVJevA', 'https://disk.yandex.ru/i/DqioinPx-Ki-wA', 'https://disk.yandex.ru/i/DqioinPx-Ki-wA']
                },
                'Векторы': {
                    tips: 'Лайфхак: Представляйте векторы как стрелки, которые двигают объекты. Так их сложение и вычитание станет интуитивно понятным. Цитата: "Образование — это то, что остается после того, как забываешь все, чему учили в школе." (Альберт Эйнштейн)',
                    plan: [
                        'Определение вектора, его координаты.',
                        'Операции над векторами: сложение, вычитание, умножение на число.',
                        'Скалярное произведение векторов и его свойства.',
                        'Применение векторов для решения геометрических задач.'
                    ],
                    link: 'https://disk.yandex.ru/i/cDq0gmqGdVJevA'
                },
                'Стереометрия': {
                    tips: 'Лайфхак: Используйте 3D-модели (даже из бумаги), чтобы лучше понять пространственные фигуры и сечения. Цитата: "Математика — это язык, на котором написана Вселенная." (Галилео Галилей)',
                    plan: [
                        'Основные понятия: плоскости, прямые в пространстве.',
                        'Взаимное расположение прямых и плоскостей.',
                        'Многогранники: призмы, пирамиды, кубы.',
                        'Тела вращения: цилиндр, конус, шар.',
                        'Вычисление объемов и площадей поверхностей.'
                    ],
                    // Добавляем новую ссылку к существующим
                    link: ['https://disk.yandex.ru/i/cDq0gmqGdVJevA', 'https://disk.yandex.ru/i/mqXRVlOax2hGNQ', 'https://disk.yandex.ru/i/DqioinPx-Ki-wA', 'https://disk.yandex.ru/i/wjrwq250Z0kl7w']
                },
                'Вероятность': {
                    tips: 'Лайфхак: Начинайте с простых событий. Если задача кажется сложной, разбейте её на мелкие, более управляемые части. Цитата: "Удача — это то, что происходит, когда подготовка встречается с возможностью." (Сенека)',
                    plan: [
                        'Определение вероятности, комбинаторика.',
                        'Сложение и умножение вероятностей.',
                        'Зависимые и независимые события.',
                        'Решение задач на условную вероятность.'
                    ],
                    link: 'https://disk.yandex.ru/i/cDq0gmqGdVJevA'
                },
                'Уравнения': {
                    tips: 'Лайфхак: Всегда проверяйте свои ответы! Подстановка корня обратно в уравнение — самый надежный способ избежать ошибок. Цитата: "Невозможное сегодня станет возможным завтра." (Константин Циолковский)',
                    plan: [
                        'Линейные и квадратные уравнения.',
                        'Иррациональные уравнения.',
                        'Показательные и логарифмические уравнения.',
                        'Тригонометрические уравнения и отбор корней.'
                    ],
                    link: 'https://disk.yandex.ru/i/cDq0gmqGdVJevA'
                },
                'Вычисления и преобразования': {
                    tips: 'Лайфхак: Заведите блокнот с формулами. Чем чаще вы будете их переписывать, тем лучше они запомнятся. Цитата: "Знание — сила." (Фрэнсис Бэкон)',
                    plan: [
                        'Преобразование рациональных выражений.',
                        'Работа со степенями и логарифмами.',
                        'Тригонометрические преобразования.',
                        'Смешанные задачи на преобразования.'
                    ],
                    link: 'https://disk.yandex.ru/i/cDq0gmqGdVJevA'
                },
                'Производная и первообразная': {
                    tips: 'Лайфхак: Поймите, что производная показывает скорость изменения, а первообразная — накопление. Это ключевой момент для интуитивного понимания. Цитата: "Единственный путь сделать великую работу — это любить то, что делаешь." (Стив Джобс)',
                    plan: [
                        'Определение производной, правила дифференцирования.',
                        'Геометрический и физический смысл производной.',
                        'Первообразная и интеграл.',
                        'Применение производной для нахождения экстремумов функций.'
                    ],
                    link: ['https://disk.yandex.ru/i/cDq0gmqGdVJevA', 'https://disk.yandex.ru/i/BNf2Yf0qqFd-4w']
                },
                'Неравенства': {
                    tips: 'Лайфхак: Всегда помните про область допустимых значений (ОДЗ) и не забывайте про смену знака при умножении на отрицательное число. Цитата: "Невозможно — это всего лишь громкое слово, за которым прячутся маленькие люди." (Мухаммед Али)',
                    plan: [
                        'Линейные и квадратные неравенства.',
                        'Дробно-рациональные неравенства.',
                        'Показательные и логарифмические неравенства.',
                        'Системы неравенств.'
                    ],
                    link: 'https://disk.yandex.ru/i/cDq0gmqGdVJevA'
                },
                'Текстовые задачи': {
                    tips: 'Лайфхак: Составляйте схемы или таблицы. Так вы структурируете все данные и увидите решение. Цитата: "Большой путь начинается с первого шага." (Лао-цзы)',
                    plan: [
                        'Задачи на движение: по прямой, по реке, по окружности.',
                        'Задачи на работу и производительность.',
                        'Задачи на смеси и сплавы.',
                        'Задачи на проценты и банковские вклады.'
                    ],
                    link: 'https://disk.yandex.ru/i/cDq0gmqGdVJevA'
                },
                'Графики функций': {
                    tips: 'Лайфхак: Постройте несколько ключевых точек, чтобы понять форму графика. Это поможет избежать ошибок при анализе. Цитата: "Кризис — это возможность, одетая в рабочий комбинезон." (Билл Гейтс)',
                    plan: [
                        'Линейные, квадратичные, степенные функции и их графики.',
                        'Показательная и логарифмическая функции.',
                        'Тригонометрические функции.',
                        'Исследование функции с помощью производной.'
                    ],
                    link: ['https://disk.yandex.ru/i/cDq0gmqGdVJevA', 'https://disk.yandex.ru/i/DdGU-Ex_Ceg8wA']
                },
                'Повторение': {
                    tips: 'Лайфхак: Делайте короткие перерывы во время повторения. Это поможет мозгу лучше усваивать информацию. Цитата: "Практика не делает совершенным, она делает постоянным." (Брюс Ли)',
                    plan: [
                        'Решение пробных вариантов ЕГЭ из прошлых лет.',
                        'Изучение разбора задач из второй части.',
                        'Выделение слабых мест и их проработка.',
                        'Повторение формул и теорем.'
                    ],
                    link: 'https://disk.yandex.ru/i/cDq0gmqGdVJevA'
                },
                'Вторая часть': {
                    tips: 'Лайфхак: Разбивайте сложные задачи на несколько простых этапов. И помните, что за каждый этап дают баллы. Цитата: "Дорога в тысячу миль начинается с одного шага." (Лао-цзы)',
                    plan: [
                        'Изучение методов решения задач повышенной сложности.',
                        'Подробный разбор заданий 13-19.',
                        'Практика в оформлении решений.',
                        'Разбор критериев оценивания.'
                    ],
                    // Преобразуем в массив и добавляем новую ссылку
                    link: ['https://disk.yandex.ru/i/cDq0gmqGdVJevA', 'https://disk.yandex.ru/i/wjrwq250Z0kl7w']
                }
            };

            // Состояние для хранения выбранной темы и введенного текста
            const [selectedTopic, setSelectedTopic] = React.useState(null);
            const [topicInput, setTopicInput] = React.useState('');
            const [tipResult, setTipResult] = React.useState('');
            const [showDetailedPlan, setShowDetailedPlan] = React.useState(false);
            const [showTips, setShowTips] = React.useState(false);
            const [topicNotes, setTopicNotes] = React.useState({});

            // Обработчик нажатия на строку в таблице
            const handleRowClick = (topic) => {
                setSelectedTopic(topic);
                setShowDetailedPlan(true);
            };

            // Обработчик нажатия на кнопку "Получить совет"
            const handleGetTips = () => {
                const normalizedInput = topicInput.toLowerCase().trim();
                let tip = 'К сожалению, по этой теме пока нет советов. Попробуйте ввести одну из тем из таблицы!';

                let found = false;
                for (const key in studyData) {
                    if (key.toLowerCase().includes(normalizedInput)) {
                        tip = studyData[key].tips;
                        found = true;
                        break;
                    }
                }

                if (!found && normalizedInput === 'тригонометрия') {
                    tip = 'При решении тригонометрических уравнений всегда используйте формулы приведения и помните про основные тригонометрические тождества. Это поможет упростить выражение. Цитата: "Знание — сила." (Фрэнсис Бэкон)';
                }

                setTipResult(tip);
                setShowTips(true);
            };

            // Обработчик изменения текста в поле для заметок
            const handleNotesChange = (e) => {
                const newNotes = e.target.value;
                setTopicNotes(prevNotes => ({
                    ...prevNotes,
                    [selectedTopic]: newNotes
                }));
            };

            // Вспомогательная функция для рендера кнопок
            const renderDownloadButtons = () => {
                const links = studyData[selectedTopic]?.link;
                if (!links) return null;

                // Проверяем, является ли `links` массивом.
                // Если да, то рендерим несколько кнопок, иначе — одну.
                const linkArray = Array.isArray(links) ? links : [links];

                return (
                    <div className="flex flex-col gap-4">
                        {linkArray.map((link, index) => (
                            <a
                                key={index}
                                href={link}
                                target="_blank"
                                rel="noopener noreferrer"
                                className="bg-purple-500 hover:bg-purple-600 text-white font-bold py-3 px-6 rounded-md shadow transition-colors flex items-center justify-center gap-2"
                            >
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth="2.5" stroke="currentColor" className="w-6 h-6">
                                    <path strokeLinecap="round" strokeLinejoin="round" d="M12 9.75v6.75m-6-6h12m1.5 0a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6.75v4.5A2.25 2.25 0 0 0 5.25 13.5h7.5M12 9.75V21" />
                                </svg>
                                {`Скачать пособие ${index + 1}`}
                            </a>
                        ))}
                    </div>
                );
            };

            return (
                <div className="container bg-white rounded-xl p-8 shadow-2xl">
                    <h1 className="text-3xl font-bold mb-6 text-center text-gray-800">План подготовки к профильной математике (2025-2027) 🎓</h1>
                    <p className="text-gray-600 mb-4 text-center">План в виде таблицы для удобного просмотра и навигации. Нажмите на любую строку, чтобы получить детальный план по теме. 💡</p>
                    <p className="text-gray-600 mb-8 text-center">Для практики и решения задач используйте сайт <a href="https://math-ege.sdamgia.ru/" target="_blank" className="text-red-500 font-semibold hover:underline">Решу ЕГЭ</a>. 🚀</p>

                    <div className="overflow-x-auto rounded-lg shadow-md mb-8">
                        <table className="w-full text-left text-sm text-gray-500 rounded-lg">
                            <thead className="text-xs text-gray-700 uppercase bg-gray-50">
                                <tr>
                                    <th scope="col" className="px-6 py-3">
                                        Тема 📚
                                    </th>
                                    <th scope="col" className="px-6 py-3">
                                        Период 🗓️
                                    </th>
                                    <th scope="col" className="px-6 py-3">
                                        Задания ЕГЭ ✅
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                {Object.keys(studyData).map((topic) => (
                                    <tr key={topic} className="bg-white border-b cursor-pointer hover:bg-gray-50 transition-colors" onClick={() => handleRowClick(topic)}>
                                        <th scope="row" className="px-6 py-4 font-medium text-gray-900 whitespace-nowrap">
                                            {topic}
                                        </th>
                                        <td className="px-6 py-4">
                                            {topic === 'Базовый материал' && 'Август-Сентябрь 2025'}
                                            {topic === 'Планиметрия' && '1-2 неделя Сентября 2025'}
                                            {topic === 'Векторы' && 'Сентябрь-Октябрь 2025'}
                                            {topic === 'Стереометрия' && 'Октябрь-Ноябрь 2025'}
                                            {topic === 'Вероятность' && 'Сентябрь-Ноябрь 2025'}
                                            {topic === 'Уравнения' && 'Сентябрь 2025 - Март 2026'}
                                            {topic === 'Вычисления и преобразования' && 'Сентябрь 2025 - Март 2026'}
                                            {topic === 'Производная и первообразная' && 'С Февраля 2026'}
                                            {topic === 'Неравенства' && '9'}
                                            {topic === 'Текстовые задачи' && 'Сентябрь 2025 - Апрель 2026; Сентябрь 2026 - Май 2027'}
                                            {topic === 'Графики функций' && 'Сентябрь 2025 - Март 2026'}
                                            {topic === 'Повторение' && 'Начало Августа 2026'}
                                            {topic === 'Вторая часть' && 'Сентябрь 2026 - Май 2027'}
                                        </td>
                                        <td className="px-6 py-4">
                                            {topic === 'Базовый материал' && '-'}
                                            {topic === 'Планиметрия' && '1'}
                                            {topic === 'Векторы' && '2'}
                                            {topic === 'Стереометрия' && '3'}
                                            {topic === 'Вероятность' && '4, 5'}
                                            {topic === 'Уравнения' && '6'}
                                            {topic === 'Вычисления и преобразования' && '7'}
                                            {topic === 'Производная и первообразная' && '8'}
                                            {topic === 'Неравенства' && '9'}
                                            {topic === 'Текстовые задачи' && '10'}
                                            {topic === 'Графики функций' && '11, 12'}
                                            {topic === 'Повторение' && '-'}
                                            {topic === 'Вторая часть' && '13, 14, 15, 16, 17, 18, 19'}
                                        </td>
                                    </tr>
                                ))}
                            </tbody>
                        </table>
                    </div>

                    <div className="mt-8 bg-gray-100 p-6 rounded-lg shadow-inner flex flex-col items-center justify-center">
                        <h2 className="text-xl font-semibold mb-4 text-gray-800 text-center">Используйте сайт "Решу ЕГЭ" для решения задач 📝</h2>
                        <a href="https://math-ege.sdamgia.ru/" target="_blank" className="bg-red-500 hover:bg-red-600 text-white font-bold py-3 px-6 rounded-md shadow transition-colors flex items-center gap-2">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth="2.5" stroke="currentColor" className="w-6 h-6">
                                <path strokeLinecap="round" strokeLinejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25" />
                            </svg>
                            Перейти на сайт
                        </a>
                    </div>

                    <h2 className="text-xl font-semibold mt-8 mb-4 text-gray-800">Материалы для подготовки ✨</h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
                        {/* Секция с советами по обучению */}
                        <div className="bg-gray-50 p-6 rounded-lg shadow-inner">
                            <h2 className="text-xl font-semibold mb-4 text-gray-800">Получить советы по обучению 🧠</h2>
                            <div className="flex flex-col sm:flex-row gap-4 mb-4">
                                <input
                                    type="text"
                                    id="topicInput"
                                    placeholder="Введите тему (напр. 'стереометрия')"
                                    className="flex-1 p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                    value={topicInput}
                                    onChange={(e) => setTopicInput(e.target.value)}
                                />
                                <button
                                    id="getTipsBtn"
                                    className="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-md transition-colors"
                                    onClick={handleGetTips}
                                >
                                    Получить совет ✨
                                </button>
                            </div>
                            {showTips && (
                                <div id="tipResult" className="mt-4 p-4 bg-white rounded-md border border-gray-200">
                                    <p id="tipText" className="text-gray-700">{tipResult}</p>
                                </div>
                            )}
                        </div>

                        {/* Секция для генерации подробного плана */}
                        <div className="bg-gray-50 p-6 rounded-lg shadow-inner">
                            <h2 className="text-xl font-semibold mb-4 text-gray-800">Детальный план по теме 🗺️</h2>
                            <p className="text-gray-600 mb-4 text-sm">Нажмите на любую строку в таблице, чтобы получить подробный список подтем! 👇</p>
                            {showDetailedPlan && selectedTopic && (
                                <div id="detailedPlan" className="mt-4 p-4 bg-white rounded-md border border-gray-200">
                                    <p className="font-bold text-lg mb-2 text-gray-800">Подробный план для: <span id="detailedTopicName">{selectedTopic}</span></p>
                                    <ul id="planDetailsList" className="list-disc list-inside text-gray-700">
                                        {studyData[selectedTopic]?.plan ? (
                                            studyData[selectedTopic].plan.map((item, index) => (
                                                <li key={index}>{item}</li>
                                            ))
                                        ) : (
                                            <li>К сожалению, подробный план по этой теме не найден.</li>
                                        )}
                                    </ul>
                                </div>
                            )}
                        </div>
                        {/* Новая секция для заметок и ссылки на пособие */}
                        {showDetailedPlan && selectedTopic && (
                            <div className="bg-gray-50 p-6 rounded-lg shadow-inner md:col-span-2">
                                <h2 className="text-xl font-semibold mb-4 text-gray-800">Мои заметки и пособия по теме: <span className="font-bold">{selectedTopic}</span></h2>
                                <p className="text-gray-600 mb-4 text-sm">Вставьте сюда текст из ваших учебных пособий.</p>
                                <textarea
                                    className="w-full h-64 p-4 border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none text-gray-800 mb-4"
                                    placeholder="Начните вводить или вставлять текст здесь..."
                                    value={topicNotes[selectedTopic] || ''}
                                    onChange={handleNotesChange}
                                ></textarea>
                                {renderDownloadButtons()}
                            </div>
                        )}
                    </div>

                    {/* Секция для банка заданий */}
                    <div className="mt-8 bg-gray-50 p-6 rounded-lg shadow-inner md:col-span-2">
                        <h2 className="text-xl font-semibold mb-4 text-gray-800">Банк заданий для практики 📚</h2>
                        <p className="text-gray-600 mb-4 text-sm text-center">Перейдите на официальный сайт ФИПИ, чтобы решать реальные задания прошлых лет!</p>
                        <div className="flex justify-center mt-4">
                            <a href="https://ege.fipi.ru/bank/index.php?proj=AC437B34557F88EA4115D2F374B0A07B" target="_blank" className="bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-md shadow transition-colors flex items-center gap-2">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth="2.5" stroke="currentColor" className="w-6 h-6">
                                    <path strokeLinecap="round" strokeLinejoin="round" d="M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.76 0 5.26-1.12 7.08-2.92M12 21c-2.76 0-5.26-1.12-7.08-2.92M10.5 10.5h.008v.008h-.008v-.008ZM15 10.5h.008v.008H15v-.008ZM10.5 14.5h.008v.008h-.008v-.008ZM15 14.5h.008v.008H15v-.008Z" />
                                    <path strokeLinecap="round" strokeLinejoin="round" d="M19.5 7.5c0-.621-.504-1.125-1.125-1.125H5.625c-.621 0-1.125.504-1.125 1.125v4.5c0 .621.504 1.125 1.125 1.125h3.5v-2.25c0-.621.504-1.125 1.125-1.125h2.5c.621 0 1.125.504 1.125 1.125v2.25h3.5c.621 0 1.125-.504 1.125-1.125v-4.5Z" />
                                </svg>
                                Перейти к банку заданий
                            </a>
                        </div>
                    </div>
                    
                    {/* Кредитная строка в самом низу */}
                    <div className="mt-8 text-center text-xs text-gray-400">
                        Автор Krumka
                    </div>
                </div>
            );
        };

        // Запуск приложения
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
